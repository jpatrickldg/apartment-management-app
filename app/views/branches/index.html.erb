<h2 class="text-xl lg:text-2xl font-bold mb-2">Branches</h2>

<% @branches.each do |branch| %>
  <div class="overflow-x-auto relative rounded-md border-gray-200 mb-4">
    <h2 class="text-lg lg:text-xl font-bold mb-2"><%= branch.branch_type %> | <%= branch.address %></h2>
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="text-xs text-gray-800 uppercase bg-gray-200 lg:table-fixed">
        <tr>
          <th class="p-3">Room Code</th>
          <th class="p-3">Monthly Rate</th>
          <th class="p-3">Occupants</th>
          <th class="p-3">Capacity</th>
          <th class="p-3">Available</th>
          <th class="py-3 px-3 text-center">
              <span class="sr-only">View</span>
          </th>
        </tr>
      </thead>
      <tbody>
        <% ordered_rooms = branch.rooms.order(room_code: :asc) %>
        <% ordered_rooms.each do |room| %>
          <tr class="bg-white border-b hover:bg-gray-100 text-gray-800">
            <td class="p-3 font-bold"><%= room.room_code.upcase %></td>
            <td class="p-3"><%= room.monthly_rate %></td>
            <td class="p-3"><%= room.occupants_count %></td>
            <td class="p-3"><%= room.capacity_count %></td>
            <td class="p-3"><%= room.available_count %></td>
            <td class="p-3 text-center"><%= link_to 'View', [branch, room], class: 'font-medium text-blue-600 hover:underline' %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>


