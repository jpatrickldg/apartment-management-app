<% if payments.any? %>
  <div class="overflow-x-auto relative rounded-md">
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="text-xs text-gray-800 uppercase bg-gray-200 lg:table-fixed">
        <tr>
          <th class="p-3">Status</th>
          <th class="p-3">Payment Date</th>
          <th class="p-3">Payment Mode</th>
          <th class="p-3">Total Amount</th>
          
          <% if !current_user.tenant? %>
            <th class="p-3">Initiated by</th>
            <th class="p-3">Processed by</th>
          <% end %>
          
          <th class="p-3">Remarks</th>
          <th class="p-3 text-center">
            <span class="sr-only">View</span>
          </th>
        </tr>
      </thead>
      <tbody>
        <% payments.each do |payment| %>
          <tr class="bg-white border-b hover:bg-gray-100 text-gray-800">
            <td class="p-3">
              <% if payment.approved? %>
                <span class="text-white font-medium rounded-lg text-sm px-2 py-1 bg-blue-700"><%= payment.status.upcase %></span>
              <% elsif payment.pending? %>
                <span class="text-white font-medium rounded-lg text-sm px-2 py-1 bg-green-700"><%= payment.status.upcase %></span>
              <% elsif payment.cancelled? %>
                <span class="text-white font-medium rounded-lg text-sm px-2 py-1 bg-red-700"><%= payment.status.upcase %></span>
              <% end %>
            </td>

            <td class="p-3"><%= payment.created_at.strftime("%Y-%m-%d") %></td>
            
            
            <td class="p-3"><%= payment.payment_mode.capitalize %></td>
            <td class="p-3">â‚±<%= payment.amount %></td>
            <% if !current_user.tenant? %>
              <td class="p-3"><%= payment.initiated_by %></td>
              <td class="p-3"><%= payment.processed_by %></td>
            <% end %>
            <td class="p-3"><%= payment.remarks %></td>
            <td class="p-3 text-center"><%= link_to 'View', payment_path(payment), class: 'font-medium text-blue-600 hover:underline' %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div>
    <p class="italic text-sm">Empty</p>
  </div>
<% end %>